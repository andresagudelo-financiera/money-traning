---
// src/components/hero/HeroPlayer.astro
const logoUrl = "/Money Training_Logo-01.png";
---

<style>
  /* 1. ANIMACIN DE ENTRADA DE TEXTOS */
  @keyframes fadeInUpCustom {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .animate-step-1 { animation: fadeInUpCustom 0.8s ease-out forwards; }
  .animate-step-2 { opacity: 0; animation: fadeInUpCustom 0.8s ease-out 0.5s forwards; }

  /* 2. EFECTO PLPITO NEN NICO (A los 4 segundos) */
  @keyframes neonPulseOnce {
    0% {
      box-shadow: 0 0 60px rgba(16,185,129,0.1); /* Sombra original sutil */
      border-color: rgba(255,255,255,0.1); /* Borde original sutil */
      transform: scale(1);
    }
    50% {
      /* Brillo intenso y expansi贸n sutil en el punto medio */
      box-shadow: 0 0 120px rgba(16,185,129,0.6), 0 0 40px rgba(16,185,129,0.4) inset; 
      border-color: rgba(16,185,129,0.8);
      transform: scale(1.02); 
    }
    100% {
      box-shadow: 0 0 60px rgba(16,185,129,0.1);
      border-color: rgba(255,255,255,0.1);
      transform: scale(1);
    }
  }

  .animate-neon-pulse-once {
    /* Ejecuta la animaci贸n 'neonPulseOnce' durante 1s, espera 4s antes de empezar, y hazlo solo 1 vez */
    animation: neonPulseOnce 1s ease-in-out 4s 1 forwards;
    /* Asegura que el contenedor tenga transici贸n suave para propiedades que no se animan */
    transition: all 0.5s ease-in-out;
  }
</style>

<section id="hero" class="relative w-full min-h-screen flex flex-col justify-start pt-10 pb-10 px-4 overflow-hidden bg-[#0a0a0a]">
  
  <div class="absolute inset-0 w-full h-full -z-20">
    <img src="/hero.jpg" alt="Fondo Money Training" class="w-full h-full object-cover opacity-20" />
  </div>
  <div class="absolute inset-0 bg-gradient-to-b from-[#0a0a0a] via-transparent to-[#0a0a0a] -z-10"></div>

  <div class="relative z-10 w-full max-w-5xl mx-auto flex flex-col items-center">
    
    <img 
      src={logoUrl} 
      alt="Money Training Logo" 
      class="w-24 md:w-32 h-auto drop-shadow-2xl mb-12 animate-step-1"
    />

    <div class="text-center w-full max-w-4xl mx-auto mb-16 px-2">
      
      <h2 class="animate-step-1 font-['Work_Sans'] text-base md:text-lg lg:text-xl font-semibold leading-snug text-white mb-3 tracking-tight">
        El dinero no obedece al esfuerzo, obedece a la 
        <span class="font-bold italic text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400">
          estrategia.
        </span>
      </h2>

      <p class="animate-step-2 font-['Work_Sans'] text-xs md:text-sm font-light text-gray-300/80 leading-tight max-w-xl mx-auto">
        Descubre en este video la metodolog铆a profesional para dejar de operar dentro del sistema y empezar a construir su arquitectura, para ti y para los clientes que guiar谩s.
      </p>

    </div>

    <div class="relative w-full max-w-4xl aspect-video rounded-xl overflow-hidden shadow-[0_0_60px_rgba(16,185,129,0.1)] border border-white/10 bg-black group mx-auto mb-20 animate-neon-pulse-once">
      
      <video 
        id="main-video"
        class="w-full h-full object-cover" 
        poster="/hero.jpg"
        playsinline
        muted
        loop
      >
        <source src="/background-video.mp4" type="video/mp4">
        Tu navegador no soporta videos HTML5.
      </video>

      <div id="video-overlay" class="absolute inset-0 flex flex-col items-center justify-center bg-black/20 hover:bg-black/10 transition-all cursor-pointer group">
        <button class="relative flex items-center gap-3 px-6 py-3 bg-black/60 backdrop-blur-md border border-white/20 rounded-full hover:bg-emerald-500/80 hover:border-emerald-400 transition-all duration-300 group-hover:scale-105">
          <div class="relative">
            <span class="absolute -inset-2 rounded-full bg-emerald-500/30 animate-ping opacity-75"></span>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 text-white">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 0 1 2.25 12c0-1.66.404-3.2.97-4.477.234-.847 1.058-1.354 1.938-1.354h2.25Z" />
            </svg>
          </div>
          <span class="text-white font-medium tracking-wide text-sm font-['Work_Sans'] uppercase">Activar Audio</span>
        </button>
      </div>
    </div>
  </div>

  <div class="relative z-10 w-full max-w-6xl mx-auto mt-4 grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-16 items-center">
    
    <div class="lg:col-span-7 flex flex-col text-center lg:text-left">
      <div class="flex items-center justify-center lg:justify-start gap-3 mb-2">
        <span class="h-px w-10 bg-emerald-500"></span>
        <span class="text-emerald-400 font-bold uppercase tracking-widest text-lg md:text-xl font-['Work_Sans']">Formaci贸n Para</span>
      </div>
      <h1 class="font-['Work_Sans'] font-black text-6xl md:text-7xl lg:text-[7.5rem] leading-[0.95] text-white tracking-tighter mb-0">
        Money
      </h1>
      <h1 class="font-['Work_Sans'] font-black text-6xl md:text-7xl lg:text-[7.5rem] leading-[0.95] tracking-tighter">
        <span class="text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 drop-shadow-[0_0_30px_rgba(52,211,153,0.2)]">
          Strategist
        </span>
      </h1>
      <div class="mt-6 h-1.5 w-32 bg-gradient-to-r from-emerald-500 to-transparent rounded-full mx-auto lg:mx-0 opacity-50"></div>
    </div>

    <div class="lg:col-span-5 flex flex-col items-center text-center gap-8 border-t lg:border-t-0 lg:border-l border-white/10 pt-8 lg:pt-0 lg:pl-10">
      <div class="space-y-4 max-w-md mx-auto">
        <p class="text-xl md:text-2xl text-white font-bold leading-tight font-['Work_Sans']">
          Transforma tu conocimiento financiero en una <span class="text-emerald-400 decoration-emerald-500/30 underline decoration-4 underline-offset-4">profesi贸n real.</span>
        </p>
        <p class="text-gray-400 text-base md:text-lg font-normal leading-relaxed font-['Work_Sans']">
          Acompa帽amiento estrat茅gico para construir una nueva carrera con prop贸sito, autoridad y altos ingresos.
        </p>
      </div>
      <a 
        href="https://pay.hotmart.com/Q104268411L?off=daig1z7w" 
        target="_blank"
        class="w-full md:w-auto px-10 py-5 bg-gradient-to-r from-emerald-600 to-teal-600 rounded-full text-xl font-bold text-white shadow-[0_10px_40px_-10px_rgba(16,185,129,0.5)] hover:shadow-[0_20px_60px_-15px_rgba(16,185,129,0.6)] hover:-translate-y-1 transition-all duration-300 transform flex items-center justify-center gap-3 group ring-1 ring-white/20"
      >
        <span class="text-2xl group-hover:animate-bounce"></span>
        <span class="font-['Work_Sans'] tracking-wide">Quiero Transformar Mi Vida</span>
      </a>
      <div class="flex flex-col items-center gap-2">
         <div class="flex -space-x-3">
            <div class="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-xs border-2 border-[#0a0a0a] text-white font-bold">JD</div>
            <div class="w-10 h-10 rounded-full bg-purple-600 flex items-center justify-center text-xs border-2 border-[#0a0a0a] text-white font-bold">MA</div>
            <div class="w-10 h-10 rounded-full bg-emerald-500 flex items-center justify-center text-xs border-2 border-[#0a0a0a] text-white font-bold">CR</div>
            <div class="w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center text-[10px] border-2 border-[#0a0a0a] text-white font-bold">+2k</div>
         </div>
         <div class="text-sm text-gray-400 font-medium font-['Work_Sans']">
           M谩s de <span class="text-white font-bold">2,100</span> profesionales formados
         </div>
      </div>
    </div>
  </div>

  <div class="absolute bottom-0 left-0 w-full h-32 bg-gradient-to-t from-[#0a0a0a] to-transparent z-0 pointer-events-none"></div>
</section>

<script>
  const video = document.getElementById('main-video');
  const overlay = document.getElementById('video-overlay');

  if (video && overlay) {
    
    // 1. INICIAR AUTOMTICAMENTE A LOS 5 SEGUNDOS
    setTimeout(() => {
      video.play().catch(error => console.log("Autoplay bloqueado o intervenido:", error));
    }, 5000); 

    // 2. ACTIVAR SONIDO AL CLIC
    overlay.addEventListener('click', () => {
      video.muted = false;     // Sonido ON
      video.currentTime = 0;   // Reinicio
      video.controls = true;   // Controles nativos
      video.play();            // Aseguramos play
      overlay.classList.add('hidden'); // Adi贸s bot贸n
    });

    // 3. REAPARECER BOTN AL FINAL
    video.addEventListener('ended', () => {
      video.controls = false;
      overlay.classList.remove('hidden');
    });
  }
</script>